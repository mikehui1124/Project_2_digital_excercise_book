<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../public/css/login.css" />
    <title>Create Class</title>
  </head>

  <body>
    <div class="container d-flex justify-content-center">
      <div class="row">
        <div class="col col-5 m-3 bg-light">
            <h2 class="shadow-none p-3 mb-3 bg-secondary rounded">Create New Class</h2>
            <div>
                <h3>Select Subject and Assign Student(s) to Class</h3>
                 
                <div class="btn-group">
                  <button type="button" class="btn btn-warning dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Subject
                  </button>
                  <ul class="dropdown-menu">

                    {{#each subjects as |subject|}}
                       <li><button class="dropdown-item" data-subjectid="{{subject.id}}">{{subject.title}}</button></li>
                    {{/each}}                  
                  </ul>
                </div>
                
                <br></br>
                <ul class="list-group">
                  <li class="list-group-item">
                    Assign Student(s) 
                  </li>
                 
                  {{#each students as |student|}} 
                    <li class="list-group-item">
                        <input class="form-check-input me-1" type="checkbox" value="" id="firstCheckbox" data-studentid="{{student.id}}">
                        <label class="form-check-label" for="firstCheckbox">{{student.last_name}} {{student.last_name}}</label>
                    </li>
                  {{/each}}                                 
                  <li class="list-group-item">
                    Teacher in Charge: {{teacher_email}}
                  </li>
                </ul>                              
            </div>
            <div>
                <br></br>
                <!--Add Class button triggers POST request to Class table-->
                <button type="button m-3" class="btn btn-primary" id="addClass">Add Class</button>
            </div>
        </div>  

       {{#if blogs.length}}
        <div class="col col-6 m-3 bg-light">
            <h2 class="shadow-none p-3 mb-3 bg-secondary rounded">Existing Classes</h2>
              <div>
                  <h3>List of All Classes in School</h3>
                  <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Teacher in Charge</th>
                          <th scope="col">Subject</th>
                          <th scope="col">No. of Student</th>
                        </tr>
                      </thead>
                      <tbody>
                        {{#each classes as |class|}}
                        <tr>
                          <td scope="row">{{class.id}}</td>
                          <td>{{class.teacher_email}}</td>
                          <td>{{class.subject.title}}</td>
                          <td>{{class.student_email.length}}</td>
                        </tr>
                      {{/each}}                       

                      </tbody>
                    </table>
              </div>
        </div>
       {{/if}}

      </div>      
  </div>

    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../public/js/main.js"></script>
  </body>
</html>

